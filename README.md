# designpattern
homework project
1354202

##undo/redo
STL的容器和算法简化代码

un/re之前备份应用程序当前的状态信息，在un/re的时候就用这个备份的状态信息修改应用程序的当前状态

仿函数保存反操作的方法，为了减少书写反操作的代码，采用和仿函数保存反操作类似的方法，尽量使代码简洁（un/re机制可以以库的形式提供）
##优缺点
1 、应用程序的状态序列化到文件，一般只un/re一步，代码简单，但占磁盘、消耗时间

2 、自定义分配器管理内存，内存分配算法复杂，代码不易理解

3 、仿函数保存反操作，仿函数保留每一步操作对应的反操作，占用内存不大但消耗时间，一些操作不存在反操作，代码组织混乱
##基本操作、符合操作
创建、删除、修改、复合（可以是基本+复合）

通过保存操作类的基类指针志向不同类型的对象实例，将基本操作和复合操作保存在复合操作里面

操作的组合过程不需要un/re

应用程序中保存un/re操作的指针队列，执行操作完毕将指针保存到un队列尾部，清空re操作指针队列；un操作执行此操作的反操作，完毕后，将指针从un队列尾部移到re队列尾部；re操作执行re队列中的操作的执行操作，完毕后，将指针从re队列尾部移到un队列尾部。

##操作对象化
容器-- 1 标识号区分同类型不同对象 2 能根据标识号得到对象

将所有对象保存到复合对象之中，同时对象的基类提供接口，以执行操作、反执行操作

复合对象实际是一个对象的队列，执行操作则是顺序调用，反执行是逆序调用

